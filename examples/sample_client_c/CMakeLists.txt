cmake_minimum_required(VERSION 3.0)
project(sample_client C)

add_subdirectory(proto)

# add the executable main entry and sources
file(GLOB APP_SRC "${PROJECT_SOURCE_DIR}/src/*.c")
add_executable(sample_client "${APP_SRC}")

# add the include/ directory as source for includes
target_include_directories(sample_client PUBLIC "${PROJECT_SOURCE_DIR}/include/")

# add the lib/ directory as source for linking
target_link_directories(sample_client PUBLIC "${PROJECT_SOURCE_DIR}/lib/")

# add required libraries
#   - proto         Contains the c-source code for the asn1 protocol, generated by the asn1c compiler
#   - connector     libconnector provided by ITD as static or dynamic library
#   - pthread       ...
#   - dl            ...
#   - m             ... required by the connector
target_link_libraries(sample_client PUBLIC proto connector pthread dl m)
target_compile_options(sample_client PUBLIC -Wall -Wextra)